name: Property Investor
layer: additional
description: |
  Rental property income and expenses tracking.
  Includes negative gearing calculation and CGT cost base tracking.

categories:
  - name: "Rental Income"
    parent: null
    description: "Rent received from investment properties"

  - name: "Property:Interest"
    parent: null
    description: "Mortgage interest on investment loans"

  - name: "Property:Rates & Strata"
    parent: null
    description: "Council rates and strata fees"

  - name: "Property:Repairs & Maintenance"
    parent: null
    description: "Repairs and maintenance expenses"

  - name: "Property:Property Management"
    parent: null
    description: "Property management fees"

  - name: "Property:Insurance"
    parent: null
    description: "Landlord insurance premiums"

  - name: "Property:Depreciation"
    parent: null
    description: "Depreciation (manual entry from schedule)"

rules:
  - id: rental-income
    pattern: "rent.*received|rental.*income|tenant.*payment"
    category: "Rental Income"
    confidence: high
    labels: ["Property: {address}"]
    description: "Detect rental income payments"

  - id: property-loan-interest
    pattern: "investment.*loan|property.*mortgage|loan.*interest"
    category: "Property:Interest"
    confidence: medium
    labels: ["Tax Deductible", "Property: {address}"]
    description: "Detect investment property loan interest"

  - id: council-rates
    pattern: "council.*rates|strata|body.*corporate"
    category: "Property:Rates & Strata"
    confidence: high
    labels: ["Tax Deductible", "Property: {address}"]
    description: "Detect rates and strata fees"

  - id: property-repairs
    pattern: "plumber|electrician|handyman|repairs.*property|maintenance.*rental"
    category: "Property:Repairs & Maintenance"
    confidence: medium
    labels: ["Tax Deductible", "Property: {address}", "Repairs vs Improvements"]
    description: "Detect repair and maintenance expenses"

  - id: property-management-fee
    pattern: "property.*management|real.*estate.*fee|letting.*fee"
    category: "Property:Property Management"
    confidence: high
    labels: ["Tax Deductible", "Property: {address}"]
    description: "Detect property management fees"

tax_tracking:
  negative_gearing_calculation: true
  cgt_cost_base_tracking: true
  cgt_discount_eligible: true
  cgt_discount_holding_period: 365
  depreciation_schedule_tracking: true

alerts:
  - type: rental_schedule_reminder
    schedule: annual
    before_date: "06-15"
    message: "EOFY - prepare rental property income/expense schedule for tax return"

  - type: cgt_event_reminder
    trigger: property_sale_detected
    message: "Property sale detected - calculate CGT on disposal"

  - type: negative_gearing_summary
    schedule: quarterly
    message: "Quarterly negative gearing summary available"

labels:
  - name: "Tax Deductible"
    description: "Property expense claimable on tax return"
    color: "green"
    auto_apply: false

  - name: "Negative Gearing"
    description: "Deductible loss against other income"
    color: "darkgreen"
    auto_apply: false

  - name: "Capital Improvement"
    description: "Adds to CGT cost base (not immediately deductible)"
    color: "gold"
    auto_apply: false

  - name: "Repairs vs Improvements"
    description: "Requires classification for tax treatment"
    color: "orange"
    auto_apply: false

  - name: "Property: {address}"
    description: "Expense for property at {address}"
    color: "brown"
    auto_apply: false
    requires_configuration: true
    configuration_prompt: "Enter property address:"

dependencies:
  requires: []
  conflicts_with: []

metadata:
  created: "2025-11-22"
  version: "1.0.0"
  author: "Agent Smith"
  priority: 3
